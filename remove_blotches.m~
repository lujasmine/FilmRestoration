function corrected = remove_blotches(imgs)
    corrected = imgs;
    
%     blotches_marked = detect_blotches(imgs, 1, 256);
%     blotches_marked = detect_blotches(imgs, 34, 34);
end

% Blotch detection as outlined by Biemond in 'biemond1.pdf'
function blotches_marked = detect_blotches(imgs, start_frame, end_frame)

    blotches_marked = imgs;
    
    for n = start_frame+1 : end_frame
        prev = imgs(:,:,n-1);
        curr = imgs(:,:,n);
        next = imgs(:,:,n+1);
        
        p = zeros(size(imgs,1)-2,size(imgs,2),6);
        for r = 2:size(imgs,1)-1
           for col = 1:size(imgs,2)
               p = curr;
               p1 = 
           end
        end
        
        % p stores the six reference pixels
        p = zeros(size(imgs,1),size(imgs,2),6);
        p(:,:,1) = prev_frame(:,:);
        
    end
end